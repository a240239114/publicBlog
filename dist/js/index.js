define(["jquery","template","pagination"],function(e,i,o){function c(t){e(".knowledgeList>li").each(function(o,n){e(n).on("click",function(){console.log(e(this).attr("data-id"));var o=t,n=e(this).attr("data-id");window.location.href="blogListInfo?"+n+"&"+o})}),e(".knowledgeList>li img").toArray().forEach(function(o){e(o).on("click",function(){console.log(e(this).attr("data-id"));var o=t,n=e(this).attr("data-id");window.location.href="blogListInfo?"+n+"&"+o})}),e(".knowledgeList>li a").toArray().forEach(function(o){e(o).on("click",function(){console.log(e(this).attr("data-id"));var o=t,n=e(this).attr("data-id");window.location.href="blogListInfo?"+n+"&"+o})})}function a(t,a){e.ajax({url:"api/"+t+"/1",type:"get",success:function(o){var n=i("paginnationTpl",{data:o.data});e(".knowledgeList").html(n)}}).done(function(){c(a)}),e(".M-box3").pagination({current:0,mode:"fixed",count:5,pageCount:50,jump:!0,coping:!0,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(o){var n=o.getCurrent();e.ajax({url:"api/"+t+"/"+n,type:"get",success:function(o){console.log(o.data);var n=i("paginnationTpl",{data:o.data});e(".knowledgeList").html(n)}}).done(function(){c(a)})}})}e(document).ajaxStart(function(){e(".wrap").show()}),e(document).ajaxStop(function(){e(".wrap").hide(),e(".knowledgeList li").animate({"margin-bottom":"20px",opacity:1},3e3)}),e(".navigation a").each(function(o,t){e(t).on("click",function(){var o=e(t).attr("data-where"),n=e(t).attr("data-whereinfo");console.log(n),console.log(o),e(".screen").css("transform","translate(-50%)"),a(o,n)})}),e(".aside li").each(function(o,t){e(t).on("click",function(){var o=e(t).attr("data-where"),n=e(t).attr("data-whereinfo");console.log(n),console.log(o),a(o,n)})}),e(".bewater").on("click",function(){console.log("11111"),e(".screen").css("transform","translate(-50%)")});var n=!1;e(".icon-fenlei").on("click",function(){return e(".youxiao").css("transform","translate(0)"),n=!0,console.log(n),n&&(console.log("2222"),e(".youxiao").on("click",function(){console.log("11111"),e(".youxiao").css("transform","translate(-40vw)")})),!1}),a("allList"),window.location.search&&(console.log("search"),e(".screen").css({transform:"translate(-50%)"}),a(decodeURIComponent(window.location.search).slice(1,8),decodeURIComponent(window.location.search).slice(9,16)));document.body.clientWidth<=770&&window.location.search&&e(".screen").css({transform:"translate(0vw)"}),e(window).resize(function(){window.location.reload()})});